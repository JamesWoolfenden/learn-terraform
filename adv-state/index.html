<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="James Woolfenden"><link rel="shortcut icon" href=../assets/images/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.8"><title>Advanced State - Learn Terraform</title><link rel=stylesheet href=../assets/stylesheets/main.cb6bc1d0.min.css><link rel=stylesheet href=../assets/stylesheets/palette.39b8e14a.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=manifest href=../manifest.webmanifest crossorigin=use-credentials><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-151885688-1","jameswoolfenden.github.io/learn-terraform/"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#state class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=.. title="Learn Terraform" class="md-header-nav__button md-logo" aria-label="Learn Terraform"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Learn Terraform </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Advanced State </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/jamesWoolfenden/learn-terraform/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> jamesWoolfenden/learn-terraform </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../examples/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../install/ class=md-tabs__link> Install </a> </li> <li class=md-tabs__item> <a href=../state/ class=md-tabs__link> State </a> </li> <li class=md-tabs__item> <a href=../syntax/ class=md-tabs__link> Syntax </a> </li> <li class=md-tabs__item> <a href=../local_file/ class=md-tabs__link> Providers </a> </li> <li class=md-tabs__item> <a href=../aws-vpc/ class=md-tabs__link> Making a VPC </a> </li> <li class=md-tabs__item> <a href=../aws-subnet/ class=md-tabs__link> Creating a Subnet </a> </li> <li class=md-tabs__item> <a href=../aws-instance/ class=md-tabs__link> Creating an Instance </a> </li> <li class=md-tabs__item> <a href=../aws-autoscaling/ class=md-tabs__link> Autoscaling </a> </li> <li class=md-tabs__item> <a href=../aws-alb/ class=md-tabs__link> Load Balancing </a> </li> <li class=md-tabs__item> <a href=../aws-rds/ class=md-tabs__link> Databases </a> </li> <li class=md-tabs__item> <a href=../aws-s3/ class=md-tabs__link> Storage </a> </li> <li class=md-tabs__item> <a href=../aws-iam/ class=md-tabs__link> IAM </a> </li> <li class=md-tabs__item> <a href=../aws-dns/ class=md-tabs__link> DNS </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Advanced State </a> </li> <li class=md-tabs__item> <a href=../control/ class=md-tabs__link> Structure </a> </li> <li class=md-tabs__item> <a href=../module/ class=md-tabs__link> Modules </a> </li> <li class=md-tabs__item> <a href=../aws-codecommit/ class=md-tabs__link> SourceCode </a> </li> <li class=md-tabs__item> <a href=../aws-ecr/ class=md-tabs__link> Containers </a> </li> <li class=md-tabs__item> <a href=../aws-cloudwatch/ class=md-tabs__link> Logging </a> </li> <li class=md-tabs__item> <a href=../workspaces/ class=md-tabs__link> Workspaces </a> </li> <li class=md-tabs__item> <a href=../tfe/ class=md-tabs__link> Terraform cloud </a> </li> <li class=md-tabs__item> <a href=../extending/ class=md-tabs__link> Extending </a> </li> <li class=md-tabs__item> <a href=../failings/ class=md-tabs__link> Failings </a> </li> <li class=md-tabs__item> <a href=../style-guide/ class=md-tabs__link> Style Guide </a> </li> <li class=md-tabs__item> <a href=../help/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=../about/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Learn Terraform" class="md-nav__button md-logo" aria-label="Learn Terraform"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Learn Terraform </label> <div class=md-nav__source> <a href=https://github.com/jamesWoolfenden/learn-terraform/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> jamesWoolfenden/learn-terraform </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../examples/ class=md-nav__link> Examples </a> </li> <li class=md-nav__item> <a href=../install/ class=md-nav__link> Install </a> </li> <li class=md-nav__item> <a href=../state/ class=md-nav__link> State </a> </li> <li class=md-nav__item> <a href=../syntax/ class=md-nav__link> Syntax </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Providers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Providers data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> Providers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-1 type=checkbox id=nav-6-1> <label class=md-nav__link for=nav-6-1> Utilities <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Utilities data-md-level=2> <label class=md-nav__title for=nav-6-1> <span class="md-nav__icon md-icon"></span> Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../local_file/ class=md-nav__link> Local file </a> </li> <li class=md-nav__item> <a href=../template/ class=md-nav__link> Template </a> </li> <li class=md-nav__item> <a href=../random/ class=md-nav__link> Random </a> </li> <li class=md-nav__item> <a href=../terraform/ class=md-nav__link> Terraform </a> </li> <li class=md-nav__item> <a href=../tls/ class=md-nav__link> TLS </a> </li> <li class=md-nav__item> <a href=../dns/ class=md-nav__link> DNS </a> </li> <li class=md-nav__item> <a href=../null/ class=md-nav__link> Null </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../statuscake/ class=md-nav__link> Status Cake </a> </li> <li class=md-nav__item> <a href=../pagerduty/ class=md-nav__link> Pager Duty </a> </li> <li class=md-nav__item> <a href=../docker/ class=md-nav__link> Docker </a> </li> <li class=md-nav__item> <a href=../github/ class=md-nav__link> Github </a> </li> <li class=md-nav__item> <a href=../gitlab/ class=md-nav__link> Gitlab </a> </li> <li class=md-nav__item> <a href=../consul/ class=md-nav__link> Consul </a> </li> <li class=md-nav__item> <a href=../vault/ class=md-nav__link> Vault </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Making a VPC <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Making a VPC" data-md-level=1> <label class=md-nav__title for=nav-7> <span class="md-nav__icon md-icon"></span> Making a VPC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-vpc/ class=md-nav__link> AWS </a> </li> <li class=md-nav__item> <a href=../gcp-vpc/ class=md-nav__link> GCP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Creating a Subnet <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Creating a Subnet" data-md-level=1> <label class=md-nav__title for=nav-8> <span class="md-nav__icon md-icon"></span> Creating a Subnet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-subnet/ class=md-nav__link> AWS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> Creating an Instance <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Creating an Instance" data-md-level=1> <label class=md-nav__title for=nav-9> <span class="md-nav__icon md-icon"></span> Creating an Instance </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-instance/ class=md-nav__link> AWS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> Autoscaling <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Autoscaling data-md-level=1> <label class=md-nav__title for=nav-10> <span class="md-nav__icon md-icon"></span> Autoscaling </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-autoscaling/ class=md-nav__link> AWS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> Load Balancing <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Load Balancing" data-md-level=1> <label class=md-nav__title for=nav-11> <span class="md-nav__icon md-icon"></span> Load Balancing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-11-1 type=checkbox id=nav-11-1> <label class=md-nav__link for=nav-11-1> AWS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=AWS data-md-level=2> <label class=md-nav__title for=nav-11-1> <span class="md-nav__icon md-icon"></span> AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-alb/ class=md-nav__link> Application </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-12 type=checkbox id=nav-12> <label class=md-nav__link for=nav-12> Databases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Databases data-md-level=1> <label class=md-nav__title for=nav-12> <span class="md-nav__icon md-icon"></span> Databases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-rds/ class=md-nav__link> RDS </a> </li> <li class=md-nav__item> <a href=../gcp-cloudsql/ class=md-nav__link> CloudSQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-13 type=checkbox id=nav-13> <label class=md-nav__link for=nav-13> Storage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Storage data-md-level=1> <label class=md-nav__title for=nav-13> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-s3/ class=md-nav__link> S3 </a> </li> <li class=md-nav__item> <a href=../gcp-cloudstorage/ class=md-nav__link> Cloud Storage </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-14 type=checkbox id=nav-14> <label class=md-nav__link for=nav-14> IAM <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=IAM data-md-level=1> <label class=md-nav__title for=nav-14> <span class="md-nav__icon md-icon"></span> IAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-iam/ class=md-nav__link> AWS </a> </li> <li class=md-nav__item> <a href=../gcp-iam/ class=md-nav__link> GCP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-15 type=checkbox id=nav-15> <label class=md-nav__link for=nav-15> DNS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=DNS data-md-level=1> <label class=md-nav__title for=nav-15> <span class="md-nav__icon md-icon"></span> DNS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-dns/ class=md-nav__link> Route 53 </a> </li> <li class=md-nav__item> <a href=../gcp-dns/ class=md-nav__link> gcp </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Advanced State <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Advanced State </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#moving-to-terraform-remote-state class=md-nav__link> Moving to Terraform Remote State </a> </li> <li class=md-nav__item> <a href=#local-state class=md-nav__link> Local State </a> <nav class=md-nav aria-label="Local State"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aws-state-bucket class=md-nav__link> AWS State Bucket </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#locking-and-unlock-state-buckets class=md-nav__link> Locking and unlock state buckets </a> </li> <li class=md-nav__item> <a href=#versioning-on-the-aws-bucket class=md-nav__link> Versioning on the AWS bucket </a> </li> <li class=md-nav__item> <a href=#gcp-and-azure class=md-nav__link> GCP and Azure </a> <nav class=md-nav aria-label="GCP and Azure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#terraform-cloud-state class=md-nav__link> Terraform Cloud state </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#recovering-and-importing-state class=md-nav__link> Recovering and importing State </a> </li> <li class=md-nav__item> <a href=#terraform-import class=md-nav__link> Terraform import </a> </li> <li class=md-nav__item> <a href=#terraforming class=md-nav__link> Terraforming </a> </li> <li class=md-nav__item> <a href=#terraformer class=md-nav__link> Terraformer </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../control/ class=md-nav__link> Structure </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-18 type=checkbox id=nav-18> <label class=md-nav__link for=nav-18> Modules <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Modules data-md-level=1> <label class=md-nav__title for=nav-18> <span class="md-nav__icon md-icon"></span> Modules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../module/ class=md-nav__link> Creating </a> </li> <li class=md-nav__item> <a href=../github-actions/ class=md-nav__link> Github Actions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-19 type=checkbox id=nav-19> <label class=md-nav__link for=nav-19> SourceCode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=SourceCode data-md-level=1> <label class=md-nav__title for=nav-19> <span class="md-nav__icon md-icon"></span> SourceCode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-codecommit/ class=md-nav__link> CodeCommit </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-20 type=checkbox id=nav-20> <label class=md-nav__link for=nav-20> Containers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Containers data-md-level=1> <label class=md-nav__title for=nav-20> <span class="md-nav__icon md-icon"></span> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-20-1 type=checkbox id=nav-20-1> <label class=md-nav__link for=nav-20-1> AWS <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=AWS data-md-level=2> <label class=md-nav__title for=nav-20-1> <span class="md-nav__icon md-icon"></span> AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-ecr/ class=md-nav__link> ECR </a> </li> <li class=md-nav__item> <a href=../aws-ecs/ class=md-nav__link> ECS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-20-2 type=checkbox id=nav-20-2> <label class=md-nav__link for=nav-20-2> GCP <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=GCP data-md-level=2> <label class=md-nav__title for=nav-20-2> <span class="md-nav__icon md-icon"></span> GCP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gcp-kubernetes/ class=md-nav__link> GKE </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-21 type=checkbox id=nav-21> <label class=md-nav__link for=nav-21> Logging <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Logging data-md-level=1> <label class=md-nav__title for=nav-21> <span class="md-nav__icon md-icon"></span> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aws-cloudwatch/ class=md-nav__link> Cloudwatch </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../workspaces/ class=md-nav__link> Workspaces </a> </li> <li class=md-nav__item> <a href=../tfe/ class=md-nav__link> Terraform cloud </a> </li> <li class=md-nav__item> <a href=../extending/ class=md-nav__link> Extending </a> </li> <li class=md-nav__item> <a href=../failings/ class=md-nav__link> Failings </a> </li> <li class=md-nav__item> <a href=../style-guide/ class=md-nav__link> Style Guide </a> </li> <li class=md-nav__item> <a href=../help/ class=md-nav__link> Help </a> </li> <li class=md-nav__item> <a href=../about/ class=md-nav__link> About </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#moving-to-terraform-remote-state class=md-nav__link> Moving to Terraform Remote State </a> </li> <li class=md-nav__item> <a href=#local-state class=md-nav__link> Local State </a> <nav class=md-nav aria-label="Local State"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aws-state-bucket class=md-nav__link> AWS State Bucket </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#locking-and-unlock-state-buckets class=md-nav__link> Locking and unlock state buckets </a> </li> <li class=md-nav__item> <a href=#versioning-on-the-aws-bucket class=md-nav__link> Versioning on the AWS bucket </a> </li> <li class=md-nav__item> <a href=#gcp-and-azure class=md-nav__link> GCP and Azure </a> <nav class=md-nav aria-label="GCP and Azure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#terraform-cloud-state class=md-nav__link> Terraform Cloud state </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#recovering-and-importing-state class=md-nav__link> Recovering and importing State </a> </li> <li class=md-nav__item> <a href=#terraform-import class=md-nav__link> Terraform import </a> </li> <li class=md-nav__item> <a href=#terraforming class=md-nav__link> Terraforming </a> </li> <li class=md-nav__item> <a href=#terraformer class=md-nav__link> Terraformer </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/jamesWoolfenden/learn-terraform/edit/master/docs/adv-state.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=state>State</h1> <h2 id=moving-to-terraform-remote-state>Moving to Terraform Remote State</h2> <p>Up to now all the examples have created a local state file, <strong>terraform.tfstate</strong>. If you are a lone developer operator then this could suffice, but if you lose that file or need to co-operate with other developers on changes a different approach is required.</p> <h2 id=local-state>Local State</h2> <p>Have a look at the Terraform code you applied in the previous chapters, along with the files you wrote, you will see a file called <strong>terraform.tfstate</strong>.</p> <p>Open it your editor, being careful not to change a thing.</p> <div class=highlight><pre><span></span><code>{
  &quot;version&quot;: 4,
  &quot;terraform_version&quot;: &quot;0.12.10&quot;,
  &quot;serial&quot;: 2,
  &quot;lineage&quot;: &quot;a20fb43f-c6e8-d766-37d1-dd9af05f7a7e&quot;,
  &quot;outputs&quot;: {
    &quot;availablity_zones&quot;: {
      &quot;value&quot;: [
        &quot;eu-west-1a&quot;,
        &quot;eu-west-1b&quot;,
        &quot;eu-west-1c&quot;
      ],
      &quot;type&quot;: [
        &quot;list&quot;,
        &quot;string&quot;
      ]
    }
  },
  &quot;resources&quot;: [
    {
      &quot;mode&quot;: &quot;data&quot;,
      &quot;type&quot;: &quot;aws_availability_zones&quot;,
      &quot;name&quot;: &quot;available&quot;,
      &quot;provider&quot;: &quot;provider.aws&quot;,
      &quot;instances&quot;: [
        {
          &quot;schema_version&quot;: 0,
          &quot;attributes&quot;: {
            &quot;blacklisted_names&quot;: null,
            &quot;blacklisted_zone_ids&quot;: null,
            &quot;id&quot;: &quot;2019-11-06 14:17:11.2174491 +0000 UTC&quot;,
            &quot;names&quot;: [
              &quot;eu-west-1a&quot;,
              &quot;eu-west-1b&quot;,
              &quot;eu-west-1c&quot;
            ],
            &quot;state&quot;: &quot;available&quot;,
            &quot;zone_ids&quot;: [
              &quot;euw1-az3&quot;,
              &quot;euw1-az1&quot;,
              &quot;euw1-az2&quot;
            ]
          }
        }
      ]
    },
    {
      &quot;mode&quot;: &quot;data&quot;,
      &quot;type&quot;: &quot;aws_caller_identity&quot;,
      &quot;name&quot;: &quot;current&quot;,
      &quot;provider&quot;: &quot;provider.aws&quot;,
      &quot;instances&quot;: [
        {
          &quot;schema_version&quot;: 0,
          &quot;attributes&quot;: {
            &quot;account_id&quot;: &quot;111111111111&quot;,
            &quot;arn&quot;: &quot;arn:aws:iam::111111111111:user/jameswoolfenden&quot;,
            &quot;id&quot;: &quot;2019-11-06 14:17:11.5923975 +0000 UTC&quot;,
            &quot;user_id&quot;: &quot;AAAAAAAAAAAAAAAAA&quot;
          }
        }
      ]
    }
  ]
}
</code></pre></div> <p>Re-apply the Terraform(This just to check that all is still working)</p> <div class=highlight><pre><span></span><code>$ Terraform apply
...
</code></pre></div> <p>After the apply is finished, rename the file <strong>terraform.tfstate</strong> to <strong>terraform.tfstate.old</strong>.</p> <p>Now try to re-apply the same Terraform. If the sample you used created infrastructure you'll now see an error showing that it failed. Lots of issues about resource existing?</p> <p>That's easily fixed by reverting your re-naming.</p> <p>So losing your <strong>terraform.tfstate</strong> file isn't great. That file is also best not left on your machine or on any server, plus it might have information you don't want shared. If you ever want to automate or cooperate on infrastructure you must have a better solution.</p> <p>The easiest way to solve this, in the cloud, is the use of a "State bucket". A State bucket might make you think of AWS but the same principal applies to Azure and GCP.</p> <h3 id=aws-state-bucket>AWS State Bucket</h3> <p>For each AWS account you use Terraform with create a remote backend to store Terraform state. Create folder and add <strong>module.statebucket.tf</strong>.</p> <div class=highlight><pre><span></span><code><span class=kr>module</span><span class=err> statebucket </span><span class=" -Punctuation">{</span>
<span class=na>  source</span>      <span class=o>=</span> <span class=s2>&quot;JamesWoolfenden/statebucket/aws&quot;</span>
<span class=na>  version</span>     <span class=o>=</span> <span class=s2>&quot;0.2.25&quot;</span>
<span class=na>  common_tags</span> <span class=o>=</span> <span class=err>var</span><span class=p>.</span><span class=err>common_tags</span>
<span class=" -Punctuation">}</span><span class=err>```</span>

<span class=err>and</span> <span class=err>a</span> <span class=err>**</span><span class=kr>provider</span><span class=p>.</span><span class=err>aws</span><span class=p>.</span><span class=err>tf**</span>

<span class=err>```</span><span class=kd>terraform</span>
<span class=kr>provider</span> <span class=s>&quot;aws&quot;</span> <span class=" -Punctuation">{</span>
<span class=na>  region</span>  <span class=o>=</span> <span class=s2>&quot;eu-west-1&quot;</span>
<span class=na>  version</span> <span class=o>=</span> <span class=s2>&quot;2.31&quot;</span>
<span class=" -Punctuation">}</span><span class=err>```</span>

<span class=err>Run</span> <span class=err>this</span> <span class=err>once</span> <span class=err>and</span> <span class=err>it</span> <span class=err>will</span> <span class=err>create</span> <span class=err>your</span> <span class=err>state</span> <span class=err>bucket</span> <span class=err>named</span> <span class=s2>&quot;${data.aws_caller_identity.current.account_id}-terraform-state&quot;</span><span class=p>.</span>

<span class=err>Run</span> <span class=err>it</span> <span class=err>a</span> <span class=err>second</span> <span class=err>time</span> <span class=err>and</span> <span class=err>the</span> <span class=err>state</span> <span class=err>for</span> <span class=err>creating</span> <span class=err>the</span> <span class=err>buckets</span> <span class=err>is</span> <span class=err>stored</span> <span class=err>in</span> <span class=err>the</span> <span class=err>bucket</span> <span class=err>by</span> <span class=err>writing</span> <span class=err>its</span> <span class=err>own</span> <span class=err>**remote</span><span class=p>.</span><span class=err>state</span><span class=p>.</span><span class=err>tf**</span>

<span class=err>```</span><span class=kd>terraform</span>
<span class=kd>terraform</span> <span class=" -Punctuation">{</span>
  <span class=kr>backend</span> <span class=s>&quot;s3&quot;</span> <span class=" -Punctuation">{</span>
<span class=na>    encrypt</span>        <span class=o>=</span> <span class=kt>true</span>
<span class=na>    bucket</span>         <span class=o>=</span> <span class=s2>&quot;1232141412-terraform-state&quot;</span>
<span class=na>    key</span>            <span class=o>=</span> <span class=s2>&quot;state-bucket/terraform.tfstate&quot;</span>
<span class=na>    dynamodb_table</span> <span class=o>=</span> <span class=s2>&quot;dynamodb-state-lock&quot;</span>
<span class=na>    region</span>         <span class=o>=</span> <span class=s2>&quot;eu-west-1&quot;</span>
  <span class=" -Punctuation">}</span>
<span class=" -Punctuation">}</span>
</code></pre></div> <h2 id=locking-and-unlock-state-buckets>Locking and unlock state buckets</h2> <p>When you add a state bucket you should also enable locking. Locking is prevent clashes, when 2 developers/processes try to modify the same resource at the same time. Should someone else be running your terraform at the same time via a state bucket you might see:</p> <div class=highlight><pre><span></span><code>Error: Error locking state: Error acquiring the state lock: The process cannot access the file because another process has locked a portion of the file.
Lock Info:
  ID:        0e9bffe0-b181-c7ce-7155-beddbc24d829
  Path:      terraform.tfstate
  Operation: OperationTypePlan
  Who:       james.woolfenden@23043-5510
  Version:   <span class=m>0</span>.11.11
  Created:   <span class=m>2019</span>-03-18 <span class=m>22</span>:21:55.075742 +0000 UTC
  Info:
Then you should <span class=nb>wait</span> <span class=k>until</span> this pln/apply is over.
</code></pre></div> <p>This can also occur if a lock was not released, If a previous run crashed or was cancelled then the lock maybe not be released?</p> <p>You can then force an unlock, if you have locked your self then the forst step is kill any orphaned Terraform processes.</p> <div class=highlight><pre><span></span><code>$ terraform force-unlock 0e9bffe0-b181-c7ce-7155-beddbc24d829
...
</code></pre></div> <p>Terraform acquires a state lock to protect the state from being written by multiple users at the same time. Please resolve the issue above and try again. For most commands, you can disable locking with the "-lock=false" flag, but this is not recommended.</p> <h2 id=versioning-on-the-aws-bucket>Versioning on the AWS bucket</h2> <p>Versioning on the S3 bucket is enable by the properties in <strong>aws_s3_bucket.statebucket.tf</strong></p> <div class=highlight><pre><span></span><code>  <span class=err>versioning</span> <span class=" -Punctuation">{</span>
<span class=na>    enabled</span>    <span class=o>=</span> <span class=kt>true</span>
<span class=na>    mfa_delete</span> <span class=o>=</span> <span class=kt>true</span>
  <span class=" -Punctuation">}</span>
</code></pre></div> <h2 id=gcp-and-azure>GCP and Azure</h2> <p>You can do a similar things with the other providers</p> <h3 id=terraform-cloud-state><a href=https://app.terraform.io>Terraform Cloud</a> state</h3> <p>Sign up for a <a href=https://app.terraform.io>Terraform Cloud account</a> and Create an organisation, and set up a workspace.</p> <p><img alt=Workspace src=../workspace.png></p> <p>You can have multiple workspaces per repository: <img alt=Settings src=../settings.png></p> <p>Each workspace requires Authentication. <img alt=Authentication src=../auth.png></p> <p>In your code Add or update your <strong>terraform.tf</strong> file to include:</p> <div class=highlight><pre><span></span><code><span class=kd>terraform</span> <span class=" -Punctuation">{</span>
  <span class=kr>backend</span> <span class=s>&quot;remote&quot;</span> <span class=" -Punctuation">{</span>
<span class=na>    hostname</span>     <span class=o>=</span> <span class=s2>&quot;app.terraform.io&quot;</span>
<span class=na>    organization</span> <span class=o>=</span> <span class=s2>&quot;wolf&quot;</span>

    <span class=err>workspaces</span> <span class=" -Punctuation">{</span>
<span class=na>      name</span> <span class=o>=</span> <span class=s2>&quot;terraform-aws-codebuild-exampleA-tfe&quot;</span>
    <span class=" -Punctuation">}</span>
  <span class=" -Punctuation">}</span>
<span class=" -Punctuation">}</span>
</code></pre></div> <h2 id=recovering-and-importing-state>Recovering and importing State</h2> <p>If you need to recreate or import existing infrastructure there a three main ways:-</p> <h2 id=terraform-import>Terraform import</h2> <p>Most resources support the import keyword, this is the oldest method and is the slowest:</p> <div class=highlight><pre><span></span><code>terraform import aws_s3_bucket.whosebucketisitanyway whosebucketisitanyway
</code></pre></div> <p>By itself will fail with:</p> <div class=highlight><pre><span></span><code>Error: resource address &quot;aws_s3_bucket.whosebucketisitanyway&quot; does not exist in the configuration.

Before importing this resource, please create its configuration in the root module. For example:

resource &quot;aws_s3_bucket&quot; &quot;whosebucketisitanyway&quot; {
  # (resource arguments)
}
</code></pre></div> <p>So you will need to make the file <strong>aws_s3_bucket.whosebucketisitanyway.tf</strong> to successfully associate it.</p> <div class=highlight><pre><span></span><code>resource &quot;aws_s3_bucket&quot; &quot;whosebucketisitanyway&quot; {
}
</code></pre></div> <p>But you will notice that your still need to update your resource to match your actual state.</p> <div class=highlight><pre><span></span><code>$ terraform plan
Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.

aws_s3_bucket.whosebucketisitanyway: Refreshing state... [id=whosebucketisitanyway]

------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  ~ update in-place

Terraform will perform the following actions:

  # aws_s3_bucket.whosebucketisitanyway will be updated in-place
  ~ resource &quot;aws_s3_bucket&quot; &quot;whosebucketisitanyway&quot; {
      + acl                         = &quot;private&quot;
        arn                         = &quot;arn:aws:s3:::whosebucketisitanyway&quot;
        bucket                      = &quot;whosebucketisitanyway&quot;
        bucket_domain_name          = &quot;whosebucketisitanyway.s3.amazonaws.com&quot;
        bucket_regional_domain_name = &quot;whosebucketisitanyway.s3.eu-west-1.amazonaws.com&quot;
      + force_destroy               = false
        hosted_zone_id              = &quot;Z1BKCTXD74EZPE&quot;
        id                          = &quot;whosebucketisitanyway&quot;
        region                      = &quot;eu-west-1&quot;
        request_payer               = &quot;BucketOwner&quot;
        tags                        = {}

        versioning {
            enabled    = false
            mfa_delete = false
        }
    }

Plan: 0 to add, 1 to change, 0 to destroy.
</code></pre></div> <h2 id=terraforming><a href=https://github.com/dtan4/terraforming>Terraforming</a></h2> <p>You'll need to install this. Terraforming can help with existing AWS infrastructure to generate the template.</p> <div class=highlight><pre><span></span><code>$ aws s3 mb s3://whosebucketisitanyway
make_bucket: whosebucketisitanyway
$ aws s3 ls
<span class=m>2019</span>-10-12 <span class=m>12</span>:01:30 whosebucketisitanyway
$ terraforming s3
resource <span class=s2>&quot;aws_s3_bucket&quot;</span> <span class=s2>&quot;whosebucketisitanyway&quot;</span> <span class=o>{</span>
    <span class=nv>bucket</span> <span class=o>=</span> <span class=s2>&quot;whosebucketisitanyway&quot;</span>
    <span class=nv>acl</span>    <span class=o>=</span> <span class=s2>&quot;private&quot;</span>
<span class=o>}</span>
</code></pre></div> <p>or the missing state:</p> <div class=highlight><pre><span></span><code>$  terraforming s3 --tfstate
{
  &quot;version&quot;: 1,
  &quot;serial&quot;: 1,
  &quot;modules&quot;: [
    {
      &quot;path&quot;: [
        &quot;root&quot;
      ],
      &quot;outputs&quot;: {
      },
      &quot;resources&quot;: {
        &quot;aws_s3_bucket.whosebucketisitanyway&quot;: {
          &quot;type&quot;: &quot;aws_s3_bucket&quot;,
          &quot;primary&quot;: {
            &quot;id&quot;: &quot;whosebucketisitanyway&quot;,
            &quot;attributes&quot;: {
              &quot;acl&quot;: &quot;private&quot;,
              &quot;bucket&quot;: &quot;whosebucketisitanyway&quot;,
              &quot;force_destroy&quot;: &quot;false&quot;,
              &quot;id&quot;: &quot;whosebucketisitanyway&quot;,
              &quot;policy&quot;: &quot;&quot;
            }
          }
        }
      }
    }
  ]
}
</code></pre></div> <h2 id=terraformer><a href=https://github.com/GoogleCloudPlatform/terraformer>Terraformer</a></h2> <p>You'll need to install this, from <a href=https://github.com/GoogleCloudPlatform/terraformer/releases/latest>https://github.com/GoogleCloudPlatform/terraformer/releases/latest</a>It supports GCP, AWS or a number of other resources. It generates the templates and the state file on a resource type basis.</p> <p>This is a more sophisticated tool and has support for many more providers. You will need to have set-up the providers already.</p> <div class=highlight><pre><span></span><code>terraformer import aws --resources=s3 --regions=eu-west-1
2019/10/12 14:01:16 aws importing region eu-west-1
2019/10/12 14:01:16 aws importing... s3
2019/10/12 14:01:17 [TRACE] GRPCProvider: GetSchema
2019/10/12 14:01:17 [TRACE] GRPCProvider: Configure
2019/10/12 14:01:19 [TRACE] GRPCProvider: GetSchema
2019/10/12 14:01:19 [TRACE] GRPCProvider: GetSchema
2019/10/12 14:01:20 [TRACE] GRPCProvider: Configure
2019/10/12 14:01:21 Refreshing state... aws_s3_bucket.whosebucketisitanyway
2019/10/12 14:01:21 [TRACE] GRPCProvider: GetSchema
2019/10/12 14:01:21 [TRACE] GRPCProvider: ReadResource
2019/10/12 14:01:24 aws Connecting....
2019/10/12 14:01:24 aws save s3
2019/10/12 14:01:24 [DEBUG] New state was assigned lineage &quot;4b60793a-54f0-acf6-7e9a-89242e7feb84&quot;
2019/10/12 14:01:24 aws save tfstate for s3
</code></pre></div> <p>This will make everything you need:</p> <div class=highlight><pre><span></span><code>$ ls generated/aws/s3/eu-west-1 -l
total 4
-rwxrwxrwx 1 jim jim  106 Oct 12 14:32 outputs.tf
-rwxrwxrwx 1 jim jim   65 Oct 12 14:32 provider.tf
-rwxrwxrwx 1 jim jim  394 Oct 12 14:32 s3_bucket.tf
-rwxrwxrwx 1 jim jim 2460 Oct 12 14:32 terraform.tfstate
</code></pre></div> <p>This is great but you'll have to refactor the reosurce ids to objects names and merge the resource types. You'll also need to merge the state files, be careful. You can use <a href=https://github.com/mmalecki/terraform-state-merge>https://github.com/mmalecki/terraform-state-merge</a> to merge. </p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../gcp-dns/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> gcp </div> </div> </a> <a href=../control/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Structure </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 - 2020 James Woolfenden </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/jameswoolfenden target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://twitter.com/JimWoolfenden target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.linkedin.com/in/jameswoolfenden/ target=_blank rel=noopener title=www.linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.18f0862e.min.js></script> <script src=../assets/javascripts/bundle.994580cf.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>